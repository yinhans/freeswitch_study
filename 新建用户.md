# 新建用户
FreeSwitch默认配置了20个用户（1000-1019），如果要添加更多的用户，需要修改配置文件。
## 新增用户文件
+ 在conf/directory/default.xml中增加一个用户文件
+ 修改拨号计划（Dialplan）使其他用户可以呼叫到它
+ 重新加载配置使其生效
例如添加用户Hans，其分机号为1020，可以在conf/directory/default中添加1020.xml，然后把1000-1019的任意一个分机xml文件复制到1020.xml<br/>
配置文件如下：<br/>
```xml
<include>
<user id="1000">
<params>
<!-- default password is 1234 -->
    <param name="password" value="$${default_password}"/> 
    <param name="vm-password" value="1020"/>
</params>
<variables>
    <variable name="toll_allow" value="domestic,international,local"/>
    <variable name="accountcode" value="1000"/>
    <variable name="user_context" value="default"/>
    <!-- effective_caller_id_name is hans -->
    <variable name="effective_caller_id_name" value="Hans"/>
    <variable name="effective_caller_id_number" value="1020"/>
    <variable name="outbound_caller_id_name" value="$${outbound_caller_name}"/>
    <variable name="outbound_caller_id_number" value="$${outbound_caller_id}"/>
    <variable name="callgroup" value="techsupport"/>
</variables>
</user>
</include>
```

## 修改拨号计划
修改conf/dialplan/default.xml，把1000-1019的任意一个分机xml文件复制到1020.xml，然后把1000-1019的任意一个分机号码修改为1020，如下：


## 涉及到的命令
### 查找freeswitch多少分机用户在线的命令
```bash
sofia status profile internal reg (显示多少个用户在线注册)
```

### 重新更改配置文件并使其生效
```bash
# 控制台按下F6
reloadxml
```